<?xml version="1.0" encoding="utf-8"?>

<launch>
    <arg name="sphinx" default="false"/>
    <arg name="unity" default="false"/>
    <arg name="physical" default="true"/>
    <arg name="controller" default="js0"/>

    <include file="$(find drone_controller)/launch/main_mixedreality.launch">
        <arg name="launch_unity" value="$(arg unity)" />
        <arg name="launch_shinx" value="$(arg sphinx)" />
        <arg name="launch_physical" value="$(arg physical)" />
    </include>

    <node name="joy_node" pkg="joy" type="joy_node">
        <!-- Might need to change this to js0 -->
        <param name="dev" value="/dev/input/$(arg controller)"/>
    </node>

    <node pkg="drone_controller" name="manual_control_node" type="manual_control.py" output="screen">
    </node>

    <node pkg="drone_controller" name="move_correction_node" type="move_correction.py" output="screen">
        <param name="yaw_correction" value="True"/>
    </node>

    <node pkg="drone_controller" name="yaw_correction_node" type="yaw_correction.py" output="screen">
        <param name="gains/p" type="double" value="75" />
        <param name="gains/i" type="double" value="5" />
        <param name="gains/d" type="double" value="10" />
    </node>

    <node pkg="rqt_image_view" type="rqt_image_view" name="mixer_img" args="/mixer/sensors/camera" output="screen"/>
    
</launch>